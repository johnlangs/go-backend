<!DOCTYPE HTML>
<html>
    <header>

    </header>

    <body>
        <script type="text/javascript">
            async function getKey() {
                let key = document.getElementById('getKey').value;
                url = "http://localhost:3000/v1/" + key;

                let res = await fetch(url, {
                    method: "GET",
                });
                res = await res.text();
                console.log(res);

                document.getElementById('get').textContent = res;
            }

            async function postKey() {
                let key = document.getElementById('key').value;
                let value = document.getElementById('value').value;
                url = "http://localhost:3000/v1/" + key;

                console.log(key);
                console.log(value);

                fetch('http://localhost:3000/v1/key-a', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: 'Hello, key-value store!'
                });

                console.log(res);

                document.getElementById('post').textContent = res;
            }
        </script>

        <input type="text" id="getKey" />
        <input type="submit" value="submit" onclick="getKey();" /> <br />
        <p id="get"></p>  
        
        <form>
            <label for="key">key:</label>
            <input type="text" id="key" /><br />
            <label for="value">value:</label>
            <input type="text" id="value" /><br />
            <input type="submit" value="submit" onclick="postKey();" />
        </form> <br />
        <p id="post"></p>  

    </body>
</html>